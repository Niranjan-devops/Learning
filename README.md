# unified-metering-service-deploy
This repo is auto-generated through Developer Home. It has all the infrastructure required to provision a service in Ethos Flex.

> **_NOTE:_**  Please make sure that you have installed the [GitHub App](https://git.corp.adobe.com/github-apps/caas-gitops) on your Application and Deploy Repositories.

## Important Links

- Developer Home: https://devhome.corp.adobe.com/catalog/default/component/SRID_577560/flex?repository=meterix%2Funified-metering-service-deploy
  - You can find many important links for your service in Developer Home under the Flex CI/CD tab, such as Argo CD, Argo Workflows, etc.
  - For more information, please check out: https://developers.corp.adobe.com/ethos-flex/docs/flex_cicd_overview.md
- Check the status of your Provisioning here: [Flex Insights](https://devhome.corp.adobe.com/catalog/default/component/SRID_577560/flex/insights?repository=meterix%2Funified-metering-service-deploy)
- [Link to Troubleshooting Guide](https://developers.corp.adobe.com/ethos-flex/troubleshooting-guides) : Use this to self resolve any issue before filing an [EON](https://jira.corp.adobe.com/secure/CreateIssueDetails!init.jspa?pid=31905&issuetype=11901&components=170501&priority=8&description=zerobin).

## Ethos K8S helm charts

Ethos has defined reusable templates for K8s objects to create an Ethos Flex service. We release them in artifactory. You can checkout out the versions of our releases [here](https://git.corp.adobe.com/adobe-platform/ethos-k8s-helm-templates/releases)

## Folder Structure

```
├── .ethos.yaml
├── argo
│   ├── Chart.yaml
│   ├── templates/
│   ├── values.yaml
└── k8s
    └── helm
        ├── Stage
        │   ├── va6
        │   │   ├── Chart.yaml
        │   │   └── values.yaml
        │   └── values.yaml
        └── values.yaml
```
- `argo`: This folder contains the workflow helm templates.
    - `values.yaml`: This file defines the attributes for the workflows.
- `k8s/helm`: This folder contains the helm templates for the K8s objects.
    - `Chart.yaml` : This file defines the charts which will be used as dependencies.
    - `values.yaml`: This file defines the service level attributes for your service which can be overrided at the environment and region level if requried. Ethos recommendation is to specify all the attributes (needed for the service) in service level values.yaml of the repository.
    - `<environment>/values.yaml`:  This file defines the common attributes for an environment.
    - `<environment>/<region>/values.yaml`: This file defines the common attributes for a region.
- `.ethos.yaml`: This file defines some flex configurations

## Local Linting Tool

If you modify Helm Charts such as values.yaml file, it's recommended to lint them locally before pushing to the remote repository. Please execute `make setup` initially, followed by `make lint` to perform Helm linting on each chart.

```
$ make lint
==> Linting argo/
[INFO] Chart.yaml: icon is recommended

1 chart(s) linted, 0 chart(s) failed
==> Linting k8s/helm/Production/irl1/
[INFO] Chart.yaml: icon is recommended

1 chart(s) linted, 0 chart(s) failed
==> Linting k8s/helm/Stage/irl1/
[INFO] Chart.yaml: icon is recommended

1 chart(s) linted, 0 chart(s) failed
```
---

Generated by [Developer Home](https://git.corp.adobe.com/adobe-platform/developer-home) on 2025-07-17.
